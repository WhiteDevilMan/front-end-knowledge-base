# usePreloader

## Описание

Хук, позволяющий управлять статусом ваших асинхронных действий внутри компонента, будь-то асинхронные функции или асинхронные эффекты.

## Использование

`usePreloader` возвращает массив из 3х значений: 

1) `isPending` - булевое значение, указывающее на статус асинхронного действия.
2) `error` - содержит ошибку. По умолчанию `string`, можно типизировать через дженерик при вызове `usePreloader`.
3) `setLoadingStatus` - функция, устанавливающая оба предыдущих значения. Принимает объект со свойствами `isPending` и `error`.

`usePreloader` принимает один необязательный дженерик и 2 аргумента.

1) `TError` - аргумент типа, в который можно передать тип ожидаемой ошибки. По умолчанию `string`.
2) `initialError` - начальное значение для `error`, тип зависит от `TError`. 
3) `initialIsPending` - начальное значение для `isPending`, по умолчанию `false`. Полезно установить `true` если надо при 1м рендере показать какой-то прелоадер. 

## Пример

![image](https://user-images.githubusercontent.com/90761929/226887419-a7c82f3d-498c-432f-b9fe-ebf4b80955bb.png)


## Зависимости

`react`, хук `useIsMounted`

## Как это работает?

Является небольшой обёрткой над обычным `useState`. Так как речь идёт об асинхронных действиях, хук `useIsMounted` используется для проверки, что бы не вызывать `setState` на размонтированном компоненте.